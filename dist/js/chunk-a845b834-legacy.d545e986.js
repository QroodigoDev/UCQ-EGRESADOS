(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a845b834"],{4795:function(e,n,t){var r=t("23e7"),i=t("da84"),s=t("342f"),a=[].slice,o=/MSIE .\./.test(s),c=function(e){return function(n,t){var r=arguments.length>2,i=r?a.call(arguments,2):void 0;return e(r?function(){("function"==typeof n?n:Function(n)).apply(this,i)}:n,t)}};r({global:!0,bind:!0,forced:o},{setTimeout:c(i.setTimeout),setInterval:c(i.setInterval)})},5776:function(e,n,t){"use strict";t("b22a")},"821a":function(e,n,t){"use strict";t.r(n);var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"versionXD"},[e._v(" Egresados-UCQ version: "),t("span",{attrs:{id:"version-local"}},[e._v(e._s(e.currentVersion))]),t("span",{staticClass:"d-none",attrs:{id:"version-remote"}},[e._v(e._s(e.newVersion))])])},i=[],s=t("1da1"),a=(t("96cf"),t("d3b7"),t("ddb0"),t("c975"),t("4795"),t("f986")),o=t("db49"),c={data:function(){return{newVersion:""}},methods:{updateApp:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,t,r,i,s,a,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,caches.keys();case 2:n=e.sent,t=0;case 4:if(!(t<n.length)){e.next=26;break}if(r=n[t],i=location.origin,-1===r.indexOf(i)){e.next=23;break}return e.next=10,caches.open(r);case 10:return s=e.sent,e.next=13,s.keys();case 13:a=e.sent,o=0;case 15:if(!(o<a.length)){e.next=22;break}return c=a[o],e.next=19,s["delete"](c);case 19:o++,e.next=15;break;case 22:return e.abrupt("break",26);case 23:t++,e.next=4;break;case 26:setTimeout((function(){location.reload(!0)}),5e3);case 27:case"end":return e.stop()}}),e)})))()},getVersion:function(e){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("/getVersion",JSON.stringify({env:n.branch}));case 2:t=e.sent,t.data.version&&(n.newVersion=t.data.version);case 4:case"end":return e.stop()}}),e)})))()}},computed:{env:function(){return o["a"].app.env},currentVersion:function(){return"0.1.0"},repo:function(){return"Egresados-UCQ"},branch:function(){return"production"===this.env?"master":"desarrollo"}},watch:{newVersion:function(e){var n=this;e!==this.currentVersion&&"production"===this.env&&this.$toastedPush({message:"Nuevo contenido disponible. Ver. ".concat(this.newVersion,"."),type:"info",duration:18e4,action:{text:"APLICAR",onClick:function(e,t){t.goAway(0),n.updateApp()}}})}},mounted:function(){this.getVersion(),setInterval(this.getVersion,6e5)}},u=c,d=(t("5776"),t("2877")),f=Object(d["a"])(u,r,i,!1,null,null,null);n["default"]=f.exports},b22a:function(e,n,t){},c975:function(e,n,t){"use strict";var r=t("23e7"),i=t("4d64").indexOf,s=t("a640"),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0,c=s("indexOf");r({target:"Array",proto:!0,forced:o||!c},{indexOf:function(e){return o?a.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-a845b834-legacy.d545e986.js.map