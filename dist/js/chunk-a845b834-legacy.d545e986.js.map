{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.timers.js","webpack:///./src/components/general/Version.vue?a5f1","webpack:///./src/components/general/Version.vue?52bc","webpack:///src/components/general/Version.vue","webpack:///./src/components/general/Version.vue?0149","webpack:///./src/components/general/Version.vue?c8f3","webpack:///./node_modules/core-js/modules/es.array.index-of.js"],"names":["$","global","userAgent","slice","MSIE","test","wrap","scheduler","handler","timeout","boundArgs","arguments","length","args","call","undefined","Function","apply","this","bind","forced","setTimeout","setInterval","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","_s","currentVersion","newVersion","staticRenderFns","data","methods","computed","env","config","repo","branch","watch","val","$toastedPush","message","type","duration","action","text","onClick","toastObject","goAway","mounted","getVersion","component","$indexOf","indexOf","arrayMethodIsStrict","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD","target","proto","searchElement"],"mappings":"mGAAA,IAAIA,EAAI,EAAQ,QACZC,EAAS,EAAQ,QACjBC,EAAY,EAAQ,QAEpBC,EAAQ,GAAGA,MACXC,EAAO,WAAWC,KAAKH,GAEvBI,EAAO,SAAUC,GACnB,OAAO,SAAUC,EAASC,GACxB,IAAIC,EAAYC,UAAUC,OAAS,EAC/BC,EAAOH,EAAYP,EAAMW,KAAKH,UAAW,QAAKI,EAClD,OAAOR,EAAUG,EAAY,YAER,mBAAXF,EAAwBA,EAAUQ,SAASR,IAAUS,MAAMC,KAAML,IACvEL,EAASC,KAMjBT,EAAE,CAAEC,QAAQ,EAAMkB,MAAM,EAAMC,OAAQhB,GAAQ,CAG5CiB,WAAYf,EAAKL,EAAOoB,YAGxBC,YAAahB,EAAKL,EAAOqB,gB,kCC1B3B,W,2CCAA,IAAIC,EAAS,WAAa,IAAIC,EAAIN,KAASO,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACL,EAAIM,GAAG,4BAA4BH,EAAG,OAAO,CAACI,MAAM,CAAC,GAAK,kBAAkB,CAACP,EAAIM,GAAGN,EAAIQ,GAAGR,EAAIS,mBAAmBN,EAAG,OAAO,CAACE,YAAY,SAASE,MAAM,CAAC,GAAK,mBAAmB,CAACP,EAAIM,GAAGN,EAAIQ,GAAGR,EAAIU,kBACpUC,EAAkB,G,wFCStB,GACEC,KADF,WAEI,MAAO,CACLF,WAAY,KAGhBG,QAAS,CACP,UADJ,WACA,iLACA,cADA,OACA,EADA,OAEA,IAFA,YAEA,YAFA,oBAGA,OACA,mBACA,iBALA,kCAMA,eANA,eAMA,EANA,iBAOA,SAPA,QAOA,EAPA,OAQA,IARA,aAQA,YARA,wBASA,OATA,UAUA,eAVA,QAQA,IARA,4DAEA,IAFA,uBAeA,uBACA,sBACA,KAjBA,+CAmBI,WApBJ,SAoBA,iLACA,0CACA,gBAFA,OACA,EADA,OAIA,iBACA,6BALA,+CASEC,SAAU,CACRC,IADJ,WAEM,OAAOC,EAAb,cAEIP,eAJJ,WAKM,MAAO,SAETQ,KAPJ,WAQM,MAAO,iBAETC,OAVJ,WAWM,MAAoB,eAAbxB,KAAKqB,IAAuB,SAAW,eAGlDI,MAAO,CACLT,WADJ,SACA,cACUU,IAAQ1B,KAAKe,gBAA+B,eAAbf,KAAKqB,KACtCrB,KAAK2B,aAAa,CAChBC,QAAS,oCAAnB,4BACUC,KAAM,OACNC,SAAU,KACVC,OAAQ,CACNC,KAAM,UACNC,QAAS,SAArB,KACcC,EAAYC,OAAO,GACnB,EAAd,kBAOEC,QAnEF,WAoEIpC,KAAKqC,aACLjC,YAAYJ,KAAKqC,WAAY,OC/E+T,I,wBCQ5VC,EAAY,eACd,EACAjC,EACAY,GACA,EACA,KACA,KACA,MAIa,aAAAqB,E,kECjBf,IAAIxD,EAAI,EAAQ,QACZyD,EAAW,EAAQ,QAA+BC,QAClDC,EAAsB,EAAQ,QAE9BC,EAAgB,GAAGF,QAEnBG,IAAkBD,GAAiB,EAAI,CAAC,GAAGF,QAAQ,GAAI,GAAK,EAC5DI,EAAgBH,EAAoB,WAIxC3D,EAAE,CAAE+D,OAAQ,QAASC,OAAO,EAAM5C,OAAQyC,IAAkBC,GAAiB,CAC3EJ,QAAS,SAAiBO,GACxB,OAAOJ,EAEHD,EAAc3C,MAAMC,KAAMP,YAAc,EACxC8C,EAASvC,KAAM+C,EAAetD,UAAUC,OAAS,EAAID,UAAU,QAAKI","file":"js/chunk-a845b834-legacy.d545e986.js","sourcesContent":["var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar slice = [].slice;\nvar MSIE = /MSIE .\\./.test(userAgent); // <- dirty ie9- check\n\nvar wrap = function (scheduler) {\n  return function (handler, timeout /* , ...arguments */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : undefined;\n    return scheduler(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func -- spec requirement\n      (typeof handler == 'function' ? handler : Function(handler)).apply(this, args);\n    } : handler, timeout);\n  };\n};\n\n// ie9- setTimeout & setInterval additional parameters fix\n// https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timers\n$({ global: true, bind: true, forced: MSIE }, {\n  // `setTimeout` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout\n  setTimeout: wrap(global.setTimeout),\n  // `setInterval` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-setinterval\n  setInterval: wrap(global.setInterval)\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Version.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"versionXD\"},[_vm._v(\" Egresados-UCQ version: \"),_c('span',{attrs:{\"id\":\"version-local\"}},[_vm._v(_vm._s(_vm.currentVersion))]),_c('span',{staticClass:\"d-none\",attrs:{\"id\":\"version-remote\"}},[_vm._v(_vm._s(_vm.newVersion))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <div class=\"versionXD\">\n    Egresados-UCQ version: <span id=\"version-local\">{{ currentVersion }}</span><span id=\"version-remote\" class=\"d-none\">{{ newVersion }}</span>\n  </div>\n</template>\n\n<script>\nimport axiosAdelaService from '@/axios/axiosAdelaService'\nimport config from '@/config'\n\nexport default {\n  data () {\n    return {\n      newVersion: ''\n    }\n  },\n  methods: {\n    async updateApp () {\n      const keyList = await caches.keys()\n      for (let index = 0; index < keyList.length; index++) {\n        const key = keyList[index]\n        const origin = location.origin\n        if (key.indexOf(origin) !== -1) {\n          const cache = await caches.open(key)\n          const cacheKeysList = await cache.keys()\n          for (let index = 0; index < cacheKeysList.length; index++) {\n            const request = cacheKeysList[index]\n            await cache.delete(request)\n          }\n          break\n        }\n      }\n      setTimeout(() => {\n        location.reload(true)\n      }, 5000)\n    },\n    async getVersion (env) {\n      const result = await axiosAdelaService.post('/getVersion', JSON.stringify({\n        env: this.branch\n      }))\n      if (result.data.version) {\n        this.newVersion = result.data.version\n      }\n    }\n  },\n  computed: {\n    env () {\n      return config.app.env\n    },\n    currentVersion () {\n      return process.env.VUE_APP_VERSION\n    },\n    repo () {\n      return process.env.VUE_APP_REPO\n    },\n    branch () {\n      return this.env === 'production' ? 'master' : 'desarrollo'\n    }\n  },\n  watch: {\n    newVersion (val) {\n      if (val !== this.currentVersion && this.env === 'production') {\n        this.$toastedPush({\n          message: `Nuevo contenido disponible. Ver. ${this.newVersion}.`,\n          type: 'info',\n          duration: 3 * 60 * 1000,\n          action: {\n            text: 'APLICAR',\n            onClick: (e, toastObject) => {\n              toastObject.goAway(0)\n              this.updateApp()\n            }\n          }\n        })\n      }\n    }\n  },\n  mounted () {\n    this.getVersion()\n    setInterval(this.getVersion, 1000 * 60 * 10)\n  }\n}\n</script>\n\n<style>\n.versionXD {\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Version.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Version.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Version.vue?vue&type=template&id=79e3e79c&lang=html&\"\nimport script from \"./Version.vue?vue&type=script&lang=js&\"\nexport * from \"./Version.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Version.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\n/* eslint-disable es/no-array-prototype-indexof -- required for testing */\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\n\n// `Array.prototype.indexOf` method\n// https://tc39.es/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}